
DROP TABLE CLINICAS CASCADE CONSTRAINTS ; 

CREATE TABLE CLINICAS ( 
  ID_HOSPITAL  VARCHAR2 (2)  NOT NULL, 
  NOMBRE       VARCHAR2 (15), 
  DIRECCION    VARCHAR2 (20), 
  TELEFONO     VARCHAR2 (12), 
  NRO_CAMAS    NUMBER (3), 
  TITULAR      VARCHAR2 (2), 
  PRIMARY KEY ( ID_HOSPITAL )); 

ALTER TABLE CLINICAS ADD 
 FOREIGN KEY (TITULAR) 
  REFERENCES TITULARES (ID_TITULAR) ;


DROP TABLE ESPECIALIDADES CASCADE CONSTRAINTS ; 

CREATE TABLE ESPECIALIDADES ( 
  ID_ESPE      VARCHAR2 (2)  NOT NULL, 
  DESCRIPCION  VARCHAR2 (35), 
  PRIMARY KEY ( ID_ESPE )); 


DROP TABLE MEDICOS CASCADE CONSTRAINTS ; 

CREATE TABLE MEDICOS ( 
  ID_MEDICO     VARCHAR2 (10)  NOT NULL, 
  NOMBRE        VARCHAR2 (30), 
  DIRECCION     VARCHAR2 (20), 
  FECHA_NAC     DATE, 
  LUGAR_NAC     VARCHAR2 (12), 
  SEXO          VARCHAR2 (1), 
  ESPECIALIDAD  VARCHAR2 (2), 
  NIVEL         VARCHAR2 (2), 
  PRIMARY KEY ( ID_MEDICO )); 


ALTER TABLE MEDICOS ADD 
 FOREIGN KEY (ESPECIALIDAD) 
  REFERENCES ESPECIALIDADES (ID_ESPE) ;

ALTER TABLE MEDICOS ADD 
 FOREIGN KEY (NIVEL) 
  REFERENCES NIVELES (ID_NIVEL) ;

DROP TABLE NIVELES CASCADE CONSTRAINTS ; 

CREATE TABLE NIVELES ( 
  ID_NIVEL     VARCHAR2 (2)  NOT NULL, 
  DESCRIPCION  VARCHAR2 (35), 
  TARIFA_HORA  NUMBER (4,1), 
  PRIMARY KEY ( ID_NIVEL )); 


DROP TABLE TITULARES CASCADE CONSTRAINTS ; 

CREATE TABLE TITULARES ( 
  ID_TITULAR   VARCHAR2 (2)  NOT NULL, 
  DESCRIPCION  VARCHAR2 (35), 
  RESPONSABLE  VARCHAR2 (35), 
  PRIMARY KEY ( ID_TITULAR )); 


DROP TABLE TRABAJAN CASCADE CONSTRAINTS ; 

CREATE TABLE TRABAJAN ( 
  ID_HOSPITAL     VARCHAR2 (2)  NOT NULL, 
  ID_MEDICO       VARCHAR2 (10)  NOT NULL, 
  FECHA_CONTRATA  DATE, 
  NRO_HORAS_MES   NUMBER (3), 
  CONSTRAINT PK_EX1
  PRIMARY KEY ( ID_HOSPITAL, ID_MEDICO )); 


ALTER TABLE TRABAJAN ADD 
 FOREIGN KEY (ID_HOSPITAL) 
  REFERENCES CLINICAS (ID_HOSPITAL) ;


ALTER TABLE TRABAJAN ADD 
 FOREIGN KEY (ID_MEDICO) 
  REFERENCES MEDICOS (ID_MEDICO) ;


INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'cu', 'clinica abc', 'san carlos', '(97)457898', 412, 't4'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'gt', 'genral', 'atocha s/n', '(91)257845', 987, 't1'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'lp', 'La Paz', 'castellana', '(91)632541', 412, 't1'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'na', 'cuan', 'alto del rio', '(948)784565', 560, 't1'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'pg', 'policlinica', 'miramon13', '(943)785541', 360, 't2'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'pr', 'provincial', 'miramon 27', '(943)781511', 502, 't2'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'st', 'santiago', 'olagibel 22', '(945)336688', 530, 't2'); 
INSERT INTO CLINICAS ( ID_HOSPITAL, NOMBRE, DIRECCION, TELEFONO, NRO_CAMAS,
TITULAR ) VALUES ( 
'tx', 'Txagorritxu', 'lakua 27', '(945)225566', 600, 't2'); 


 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
'c1', 'cardiologia'); 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
'g1', 'ginecologia'); 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
'n1', 'neurologia'); 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
'p1', 'pediatria'); 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
's1', 'psicologia'); 
INSERT INTO ESPECIALIDADES ( ID_ESPE, DESCRIPCION ) VALUES ( 
'u1', 'urologia'); 

 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'01.013.140', 'Noveo once, Casimiro', 'Iluntza 22',  TO_Date( '04/12/1956 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Brasil', 'V', 'u1', '01'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'02.564.777', 'Gomez Gomez, Alvaro', 'Sancho el Sabio',  TO_Date( '11/13/1945 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Donostia', 'V', 'g1', '03'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'06.459.111', 'Goya Goya, Nekane', 'Lopez Iturrino 20',  TO_Date( '04/12/1978 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Bilbao', 'H', 'g1', '03'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'08.164.524', 'Saenz Erle, Amaia', 'Las Cortes 24',  TO_Date( '02/23/1945 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Basurto', 'H', 'n1', '04'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'11.325.456', 'Barreno Ea, Roberto', 'Potaleku 25',  TO_Date( '11/22/1979 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Bilbao', 'V', 'n1', '04'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'11.564.789', 'Urteaga Elorza,Amaia', 'Avda.Libertas 26',  TO_Date( '12/12/1978 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Donostia', 'H', 'c1', '03'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'12.457.123', 'Elorza Perez, Olatz', 'Goya 20',  TO_Date( '12/12/1985 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Oñati', 'H', 'n1', '04'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'12.987.456', 'Lopez Goya, Andoni', 'Kalebarria 26',  TO_Date( '11/11/1966 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Arrasate', 'M', 'p1', '02'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'22.161.515', 'Alvarez Inza, Juan', 'Almed. Urquijo 27',  TO_Date( '08/05/1962 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Arrasate', 'V', 'n1', '03'); 
INSERT INTO MEDICOS ( ID_MEDICO, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC, SEXO, ESPECIALIDAD,
NIVEL ) VALUES ( 
'45.789.456', 'Urrutia Erle, Jose', 'Alto Miracruz 1',  TO_Date( '04/11/1963 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Donostia', 'V', 'p1', '04'); 

 
INSERT INTO NIVELES ( ID_NIVEL, DESCRIPCION, TARIFA_HORA ) VALUES ( 
'01', 'jefe departamento', 150); 
INSERT INTO NIVELES ( ID_NIVEL, DESCRIPCION, TARIFA_HORA ) VALUES ( 
'02', 'adjunto', 120); 
INSERT INTO NIVELES ( ID_NIVEL, DESCRIPCION, TARIFA_HORA ) VALUES ( 
'03', 'especialista', 110); 
INSERT INTO NIVELES ( ID_NIVEL, DESCRIPCION, TARIFA_HORA ) VALUES ( 
'04', 'residente', 80); 

 
INSERT INTO TITULARES ( ID_TITULAR, DESCRIPCION, RESPONSABLE ) VALUES ( 
't1', 'Seguridad Social', 'Ana Pastor'); 
INSERT INTO TITULARES ( ID_TITULAR, DESCRIPCION, RESPONSABLE ) VALUES ( 
't2', 'Osakidetza', 'Azkuna'); 
INSERT INTO TITULARES ( ID_TITULAR, DESCRIPCION, RESPONSABLE ) VALUES ( 
't3', 'Servicio Andaluz de Salud', 'A.Lopez'); 
INSERT INTO TITULARES ( ID_TITULAR, DESCRIPCION, RESPONSABLE ) VALUES ( 
't4', 'Sanitas', 'B.Garcia'); 
 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'cu', '01.013.140',  TO_Date( '01/15/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 100); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'gt', '22.161.515',  TO_Date( '08/22/1990 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 120); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'lp', '08.164.524',  TO_Date( '08/22/1990 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 50); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'pg', '01.013.140',  TO_Date( '05/15/1988 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 35); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'pg', '11.564.789',  TO_Date( '12/12/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 120); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'pr', '22.161.515',  TO_Date( '12/23/1990 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 20); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'st', '12.457.123',  TO_Date( '05/22/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 40); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'st', '45.789.456',  TO_Date( '12/22/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 25); 
INSERT INTO TRABAJAN ( ID_HOSPITAL, ID_MEDICO, FECHA_CONTRATA,
NRO_HORAS_MES ) VALUES ( 
'tx', '11.564.789',  TO_Date( '05/12/1998 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 100); 
commit;
 
