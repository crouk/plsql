drop table xs_asignaciones cascade constraints;
drop table xs_puestos cascade constraints;
drop table xs_restaurantes cascade constraints;
drop table xs_pedidos cascade constraints;
drop table xs_nota_pedido cascade constraints;
drop table xs_consumiciones cascade constraints;
drop table xs_empleados cascade constraints;

create table xs_puestos(
  cod_puesto number(4),
  descripcion varchar2(20),
  coste_hora number(6,2)
  );

alter table xs_puestos add constraint 
  pk_xs_puestos primary key (cod_puesto);

INSERT INTO XS_PUESTOS ( COD_PUESTO, DESCRIPCION, COSTE_HORA ) VALUES ( 
1, 'Encargado', 50); 
INSERT INTO XS_PUESTOS ( COD_PUESTO, DESCRIPCION, COSTE_HORA ) VALUES ( 
2, 'Repartidor', 30); 
INSERT INTO XS_PUESTOS ( COD_PUESTO, DESCRIPCION, COSTE_HORA ) VALUES ( 
3, 'Limpieza', 20); 
INSERT INTO XS_PUESTOS ( COD_PUESTO, DESCRIPCION, COSTE_HORA ) VALUES ( 
4, 'Camarero', 30); 


create table xs_restaurantes(
  id_resta number(4),
  poblacion varchar2(20),
  direccion varchar2(20),
  telefono varchar2(10),
  nro_plazas number(3)
  );

alter table xs_restaurantes add constraint 
  pk_xs_restaurantes primary key (id_resta);

INSERT INTO XS_RESTAURANTES ( ID_RESTA, POBLACION, DIRECCION, TELEFONO,
NRO_PLAZAS ) VALUES ( 
10, 'Bilbao', 'Gran Via, 82', '57435734', 134); 
INSERT INTO XS_RESTAURANTES ( ID_RESTA, POBLACION, DIRECCION, TELEFONO,
NRO_PLAZAS ) VALUES ( 
20, 'Donostia', 'Amara, 22', '54676565', 232); 
INSERT INTO XS_RESTAURANTES ( ID_RESTA, POBLACION, DIRECCION, TELEFONO,
NRO_PLAZAS ) VALUES ( 
30, 'Gazteiz', 'Portal de Gamarra, 5', '54678764', 111); 
INSERT INTO XS_RESTAURANTES ( ID_RESTA, POBLACION, DIRECCION, TELEFONO,
NRO_PLAZAS ) VALUES ( 
40, 'Bilbao', 'Licenciado Poza, 47', '78685632', 156); 


create table xs_empleados(
  dni varchar2(15),
  nombre varchar2(20),
  direccion varchar2(20),
  fecha_nac date,
  lugar_nac varchar2(20),
  sexo varchar2(10)
  );

alter table xs_empleados add constraint 
  pk_xs_empleados primary key (dni);

INSERT INTO XS_EMPLEADOS ( DNI, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC,
SEXO ) VALUES ( 
'85674456X', 'Juan Lopez', 'Kale Barria, 45',  TO_Date( '01/01/1978 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Durango', 'Hombre'); 
INSERT INTO XS_EMPLEADOS ( DNI, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC,
SEXO ) VALUES ( 
'46565735G', 'Iosu Arteaga', 'Kale Luzea, 43',  TO_Date( '04/01/1985 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Oñati', 'Hombre'); 
INSERT INTO XS_EMPLEADOS ( DNI, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC,
SEXO ) VALUES ( 
'63464567H', 'Ander Fernandez', 'Goenkale, 5',  TO_Date( '04/04/1989 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Bergara', 'Hombre'); 
INSERT INTO XS_EMPLEADOS ( DNI, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC,
SEXO ) VALUES ( 
'55667354E', 'Alaitz Olea', 'Barrenkale, 88',  TO_Date( '04/08/1970 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Arrasate', 'Mujer'); 
INSERT INTO XS_EMPLEADOS ( DNI, NOMBRE, DIRECCION, FECHA_NAC, LUGAR_NAC,
SEXO ) VALUES ( 
'87967956D', 'Ane Ortuondo', 'kalebarria, 25',  TO_Date( '08/08/1977 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'Eibar', 'Mujer'); 


create table xs_asignaciones(
  id_asignacion number(4),
  dni varchar2(15),
  id_resta number(4),
  cod_puesto number(4),
  fecha_inicio date,
  fecha_fin date,
  plus_nocturnidad number(6,2),
  plus_peligrosidad number(6,2)
  );

alter table xs_asignaciones add constraint 
  pk_xs_asignaciones primary key (id_asignacion);

alter table xs_asignaciones add constraint 
  fk_xs_asig_emple foreign key (dni) references xs_empleados(dni);

alter table xs_asignaciones add constraint 
  fk_xs_asig_pue foreign key (cod_puesto) references xs_puestos(cod_puesto);

alter table xs_asignaciones add constraint 
  fk_xs_asig_rest foreign key (id_resta) references xs_restaurantes(id_resta);

INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
1, '55667354E', 10, 1,  TO_Date( '01/01/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '03/01/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), 1, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
2, '63464567H', 30, 2,  TO_Date( '04/03/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '06/03/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, 2); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
3, '85674456X', 20, 3,  TO_Date( '05/02/2001 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, NULL, 1, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
4, '85674456X', 20, 3,  TO_Date( '05/03/2001 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '04/06/2005 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
5, '55667354E', 10, 1,  TO_Date( '01/01/2004 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '12/31/2005 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, 2); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
6, '46565735G', 30, 4,  TO_Date( '04/12/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '05/13/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
7, '85674456X', 40, 3,  TO_Date( '01/17/1988 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '03/31/2000 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), 1, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
8, '46565735G', 30, 1,  TO_Date( '03/06/2000 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '08/03/2001 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
9, '55667354E', 40, 4,  TO_Date( '04/07/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '04/03/2004 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, 2); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
10, '63464567H', 10, 4,  TO_Date( '09/17/2000 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '08/18/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), 1, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
11, '46565735G', 40, 3,  TO_Date( '04/03/2001 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '05/19/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, 2); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
12, '55667354E', 30, 4,  TO_Date( '01/01/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '12/31/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
13, '63464567H', 40, 4,  TO_Date( '08/25/1998 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '09/30/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), NULL, NULL); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
14, '63464567H', 10, 1,  TO_Date( '07/14/2001 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,  TO_Date( '02/18/2007 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM'), 1, 2); 
INSERT INTO XS_ASIGNACIONES ( ID_ASIGNACION, DNI, ID_RESTA, COD_PUESTO, FECHA_INICIO, FECHA_FIN,
PLUS_NOCTURNIDAD, PLUS_PELIGROSIDAD ) VALUES ( 
15, '55667354E', 40, 4,  TO_Date( '08/01/1999 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
,NULL , NULL, NULL); 


create table xs_consumiciones(
  id_consum number(4),
  descripcion varchar2(20),
  precio number(6,2),
  tipo varchar2(10)
);

alter table xs_consumiciones add constraint 
  pk_xs_consumiciones primary key (id_consum);

INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
50, 'Hamburguesa', 3.5, 'Comida'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
51, 'CocaCola', 1.25, 'Refresco'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
52, 'Cerveza', 1.25, 'Refresco'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
53, 'Perrito Caliente', 3.2, 'Comida'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
54, 'Sandwich', 1.95, 'Comida'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
55, 'Cafe', 0.95, 'Varios'); 
INSERT INTO XS_CONSUMICIONES ( ID_CONSUM, DESCRIPCION, PRECIO, TIPO ) VALUES ( 
56, 'Pastel', 1.35, 'Postre'); 


create table xs_pedidos(
  cod_pedido number(4),
  cod_resta number(4),
  dni_empleado varchar2(15),
  fecha_pedido date,
  cliente varchar2(10)
  );

alter table xs_pedidos add constraint 
  pk_xs_pedidos primary key (cod_pedido);

alter table xs_pedidos add constraint 
  fk_xs_ped_rest foreign key (cod_resta) references xs_restaurantes(id_resta);

INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
101, 10, '85674456X',  TO_Date( '01/01/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'ANDONI'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
102, 10, '85674456X',  TO_Date( '01/13/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'PIRU'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
103, 10, '55667354E',  TO_Date( '01/14/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'ASIER'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
104, 20, '63464567H',  TO_Date( '02/19/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'ANTTONI'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
105, 20, '87967956D',  TO_Date( '02/27/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'ANTTONI'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
106, 20, '63464567H',  TO_Date( '04/18/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'ANDONI'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
107, 40, '87967956D',  TO_Date( '03/01/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'LEIRE'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
108, 40, '63464567H',  TO_Date( '10/04/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'PEDRO'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
109, 40, '87967956D',  TO_Date( '12/17/2002 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'PEDRO'); 
INSERT INTO XS_PEDIDOS ( COD_PEDIDO, COD_RESTA, DNI_EMPLEADO, FECHA_PEDIDO,
CLIENTE ) VALUES ( 
110, 40, '55667354E',  TO_Date( '03/01/2003 12:00:00 AM', 'MM/DD/YYYY HH:MI:SS AM')
, 'PIRU'); 


create table xs_nota_pedido(
  cod_pedido number(4),
  id_consum number(4),
  cantidad number(4),
  descuento number(6,2)
  );

alter table xs_nota_pedido add constraint 
  pk_xs_nota_pedido primary key (cod_pedido,id_consum);

alter table xs_nota_pedido add constraint 
  fk_xs_ped_cons foreign key (id_consum) references xs_consumiciones(id_consum);

INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
101, 50, 1, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
101, 54, 2, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
101, 56, 4, 1); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
102, 50, 2, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
102, 51, 1, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
102, 52, 3, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
102, 55, 3, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
103, 56, 3, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
103, 53, 1, 1); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
104, 50, 1, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
105, 52, 4, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
105, 53, 2, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
105, 54, 1, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
106, 53, 4, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
107, 54, 5, 1); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
108, 54, 2, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
108, 55, 3, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
108, 56, 1, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
109, 52, 3, 1); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
109, 53, 2, NULL); 
INSERT INTO XS_NOTA_PEDIDO ( COD_PEDIDO, ID_CONSUM, CANTIDAD,
DESCUENTO ) VALUES ( 
110, 56, 4, NULL); 




